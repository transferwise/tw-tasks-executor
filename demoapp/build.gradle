ext.projectName = "Transferwise Tasks Executor Demo App"
ext.projectDescription = "Transferwise Tasks Executor Demo App - Used for performance testing"
ext.projectArtifactName = "tw-tasks-executor-demoapp"

apply from: '../build.common.gradle'

apply plugin: "org.springframework.boot"

dependencies {
    implementation project(":core")
    implementation project(":ext-incidents")
    implementation project(":ext-kafka-listener")
    implementation project(":ext-kafka-publisher")
    implementation project(":ext-management")

    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-jdbc'
    implementation 'org.springframework.kafka:spring-kafka'
    implementation 'com.transferwise.common:tw-gaffer-jta:1.3.1'
    implementation 'org.apache.tomcat:tomcat-jdbc'
    implementation 'com.transferwise.common:tw-base-utils:1.2.8'
    implementation 'com.transferwise.common:tw-graceful-shutdown:1.2.4'
    implementation 'com.transferwise.common:tw-graceful-shutdown-interfaces:1.3.2'
    implementation 'org.apache.curator:curator-recipes:4.2.0'

    runtimeOnly 'org.springframework.boot:spring-boot-starter-actuator'
    runtimeOnly 'io.micrometer:micrometer-registry-prometheus'
    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'
    runtimeOnly 'org.codehaus.janino:janino'
    runtimeOnly 'org.liquibase:liquibase-core'
    runtimeOnly 'org.postgresql:postgresql'
    runtimeOnly 'mysql:mysql-connector-java'
    runtimeOnly 'com.transferwise.common:tw-entrypoints-starter:2.0.0'
}

springBoot {
    mainClassName = 'com.transferwise.tasks.demoapp.Application'
}

bootRun {
    systemProperties = System.properties
}

bootJar {
    excludeDevtools = true
}
